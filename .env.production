# Environment configuration for production
# Copy this to .env.production for production environment

# TestRail Connection (Required)
TESTRAIL_BASE_URL=https://your-company.testrail.io
TESTRAIL_USERNAME=prod-service-account@company.com
TESTRAIL_API_KEY=secure-production-api-key

# Server Configuration
NODE_ENV=production
PORT=3000
LOG_LEVEL=info

# Performance
NODE_OPTIONS=--max-old-space-size=2048
UV_THREADPOOL_SIZE=16

# Default Project Settings (Optional)
DEFAULT_PROJECT_ID=1
DEFAULT_SUITE_ID=1

# Rate Limiting (Production)
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_BURST=100

# Caching Configuration
CACHE_ENABLED=true
CACHE_TTL=600
REDIS_URL=redis://redis-cluster:6379
REDIS_PREFIX=testrail-mcp-prod
REDIS_PASSWORD=secure-redis-password

# Database Configuration (Optional)
DB_HOST=postgres-cluster
DB_PORT=5432
DB_NAME=testrail_mcp_prod
DB_USER=prod_user
DB_PASSWORD=secure-db-password
DB_SSL=true
DB_POOL_MIN=5
DB_POOL_MAX=20

# Security (Production)
JWT_SECRET=super-secure-jwt-secret-64-chars-or-more
CORS_ORIGIN=https://your-app.company.com,https://admin.company.com
CORS_CREDENTIALS=true
HELMET_ENABLED=true

# SSL/TLS Configuration
SSL_ENABLED=true
SSL_CERT_PATH=/etc/ssl/certs/server.crt
SSL_KEY_PATH=/etc/ssl/private/server.key

# Monitoring and Observability
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_PORT=9091

# APM (Application Performance Monitoring)
APM_ENABLED=true
DATADOG_API_KEY=your-datadog-api-key
NEW_RELIC_LICENSE_KEY=your-newrelic-license-key

# Logging
LOG_FORMAT=json
LOG_DESTINATION=file
LOG_FILE_PATH=/var/log/testrail-mcp/server.log
LOG_MAX_SIZE=100MB
LOG_MAX_FILES=10

# Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production

# Webhook Configuration
WEBHOOK_ENABLED=true
WEBHOOK_PORT=3001
WEBHOOK_SECRET=secure-webhook-secret-change-me

# External Integrations (Production)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/prod/webhook
TEAMS_WEBHOOK_URL=https://your-company.webhook.office.com/prod

# Email Configuration
EMAIL_ENABLED=true
EMAIL_SMTP_HOST=smtp.company.com
EMAIL_SMTP_PORT=587
EMAIL_SMTP_SECURE=true
EMAIL_SMTP_USER=testrail-mcp@company.com
EMAIL_SMTP_PASS=secure-email-password

# Backup and Recovery
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_DESTINATION=s3://company-backups/testrail-mcp

# Feature Flags (Production)
FEATURE_ADVANCED_REPORTING=true
FEATURE_BULK_OPERATIONS=true
FEATURE_WEBHOOKS=true
FEATURE_AI_INSIGHTS=false

# Scaling Configuration
CLUSTER_MODE=true
WORKER_PROCESSES=auto
MAX_MEMORY_RESTART=1000MB

# Security Headers
HSTS_MAX_AGE=31536000
CSP_DIRECTIVES=default-src 'self'; script-src 'self' 'unsafe-inline'
X_FRAME_OPTIONS=DENY